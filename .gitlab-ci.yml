
stages:
  - build

cache:
  key: "$CI_BUILD_STAGE-$CI_BUILD_REF_NAME"
  untracked: true

# Use rustfmt to check formatting
sanity:
  stage: build
  image: "demilletech/rust"
  script:
    - cargo fmt -- --check

# Use cargo to test and build the project
build:
  stage: build
  image: "rustlang/rust:nightly"
  script:
    - cargo build
    - cargo test

